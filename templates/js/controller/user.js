/* global require, exports */var CAS = require('node-cas');var casConfig = require('../config/cas');exports.index = function (req, res) {    res.render('index', {        title: '挖财React脚手架工程',        message: "欢迎！！！"    });};exports.list = function (req, res) {    var data;    for (var key in req.body) {        data = JSON.parse(key);    }    var pageSize = parseInt(data.pageSize);    var pageNo = parseInt(data.pageNo);    var start = pageSize * (pageNo - 1);    var end = pageSize * pageNo;    var rows = [], total = 1000;    for (var index = start; index < end; index++) {        rows.push({            id: index,            user: "user" + index,            name: "name" + index,            hello: "hello" + index,            world: "world" + index        });    }    res.json({        total: total,        rows: rows,        ok: true,        msg: null    });};exports.validate = function (req, res, next) {        var cas = new CAS(casConfig);    cas.authenticate(req, res, function (err, data) {        if (err) {            return res.json({err: err});        }        if(!data){            return res.redirect('/login');        }        next();    });};exports.doLogin = function (req, res) {        var cas = new CAS(casConfig);    cas.authenticate(req, res, function (err, data) {        if (err) {            console.log(err);            return res.json({err: err});        }        if(data){            res.redirect('/');        }    });};exports.doLogout = function (req, res) {    var cas = new CAS(casConfig);    cas.logout(req, res);};